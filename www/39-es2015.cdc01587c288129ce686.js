(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{p39y:function(l,e,n){"use strict";n.r(e);var t=n("8Y7J"),o=n("mrSG"),a=n("ZZ/e"),r=n("z6cu"),i=n("IheW"),u=n("lJxs"),s=n("JIr8"),c=n("owP1"),d=n("T4a8");let p=(()=>{class l{constructor(l){this.http=l}handleError(l){return l.error instanceof ErrorEvent?console.error("An error has been occurred:",l.error.message):console.error(`Backend returned code ${l.status}, `+`body was: ${l.error}`),Object(r.a)("Something bad happened; please try again later.")}extractData(l){return l||{}}handlephotoPadres(l){const e={headers:new i.h({"Content-Type":"application/json"})};let n=`${c.a+d.j.photoPadres+"&tipo="+l.tipo+"&codigo="+l.codigo} `;return console.log(n),this.http.get(n,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handlephotoDetalle(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.photoDetalle+"&codigo="+l.codigo} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handlephotoMaestro(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.photoMaestro+"&tipo="+l.tipo+"&codigo="+l.codigo} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handlenuevoAlbumMaestro(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.nuevoAlbumMaestro+"&data="+l.data} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handlactualizaAlumnos(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.actualizaAlumnos+"&data="+l.data} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handleactualizaTextos(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.actualizaTextos+"&codigo="+l.codigo+"&texto="+l.texto} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handleeliminaAlbum(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.eliminaAlbum+"&codigo="+l.codigo} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handleeliminaPhoto(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.eliminaPhoto+"&album="+l.album+"&image="+l.image} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handleuploadFotos(l){const e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(`${c.a+d.j.uploadFotos+"&imageo="+l.image} `,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}handlelistarAlumnos(l){const e={headers:new i.h({"Content-Type":"application/json"})};console.log(l);let n=`${c.a+d.j.listarAlumnos+"&tipo="+l.tipo+"&codigo="+l.codigo+"&alu_nombre="+l.alu_nombre} `;return console.log(n),this.http.get(n,e).pipe(Object(u.a)(this.extractData),Object(s.a)(this.handleError))}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](i.c))},token:l,providedIn:"root"}),l})();var h=n("xoVG");class g{constructor(l,e,n,t,o,a,r,i){this.router=l,this.menu=e,this.navCtrl=n,this.loadingController=t,this.alertCtrl=o,this._photoProvider=a,this.network=r,this.storage=i,this.tituloColegio="COLEGIO",this.descripcionColegio="Colegio ASMS",this.handleGetStorageUser()}ngOnInit(){}openFoto(l){let e={queryParams:{dataCard:JSON.stringify(l)}};this.router.navigate(["photo1"],e)}handleGetStorageUser(){return o.__awaiter(this,void 0,void 0,(function*(){this.storage.get("user").then(l=>{this.tipo=l.tipo_usuario,this.codigo=l.tipo_codigo,this.typeNetwork=this.network.type,this.tipo&&this.codigo?this.handleGetPhotos():console.log("error faltan campos de el local storage")})}))}handleGetPhotos(){return o.__awaiter(this,void 0,void 0,(function*(){if(this.typeNetwork=this.network.type,"none"!=this.typeNetwork){let l={tipo:this.tipo,codigo:this.codigo};yield this._photoProvider.handlephotoPadres(l).subscribe(l=>{this.photos=l},l=>{console.log(l),this.status=!1,this.alertMsj("Oh, algo salio mal","Intenta otra vez.")})}else this.alertMsj("Error de conexi\xf3n","Verifica tu conexi\xf3n a internet.")}))}alertMsj(l,e){return o.__awaiter(this,void 0,void 0,(function*(){(yield this.alertCtrl.create({header:l,message:e,buttons:["Ok"]})).present()}))}}class m{}var f=n("pMnS"),C=n("oBZk"),b=n("SVse"),j=n("iInd"),O=n("xgBC"),v=t["\u0275crt"]({encapsulation:0,styles:[[".textomenu[_ngcontent-%COMP%]{top:0;left:0;padding:0 90px 1px;width:100%;height:100%;text-align:center}.descColegio[_ngcontent-%COMP%], .titleColegio[_ngcontent-%COMP%]{color:#797d7f}.cardimage[_ngcontent-%COMP%]{width:100%;height:250px}.title[_ngcontent-%COMP%]{margin-left:18%}"]],data:{}});function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ion-slide",[],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openFoto(l.parent.context.$implicit)&&t),t}),C.wb,C.J)),t["\u0275did"](1,49152,null,0,a.IonSlide,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](2,0,null,0,0,"img",[["class","cardimage"]],[[8,"src",4]],null,null,null,null))],null,(function(l,e){l(e,2,0,t["\u0275inlineInterpolate"](1,"",e.context.$implicit.foto,""))}))}function _(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p",[["class","descColegio"],["name","alumno"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,(function(l,e){l(e,2,0,e.context.$implicit.alumno)}))}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,24,"ion-card",[],null,null,null,C.U,C.f)),t["\u0275did"](2,49152,null,0,a.IonCard,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](3,0,null,0,10,"ion-item",[],null,null,null,C.kb,C.v)),t["\u0275did"](4,49152,null,0,a.IonItem,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](5,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,C.O,C.b)),t["\u0275did"](6,49152,null,0,a.IonAvatar,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](7,0,null,0,0,"img",[["name","profile"],["src","../../../assets/asms/perfil.png"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,0,5,"ion-label",[],null,null,null,C.lb,C.y)),t["\u0275did"](9,49152,null,0,a.IonLabel,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](10,0,null,0,1,"h3",[["lass","titleColegio"],["name","coleName"]],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,[" "," "])),(l()(),t["\u0275eld"](12,0,null,0,1,"p",[["class","descColegio"],["name","nameColegio"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,[" "," "])),(l()(),t["\u0275eld"](14,0,null,0,3,"ion-slides",[["pager","true"],["paginationType","bullets"]],null,null,null,C.xb,C.K)),t["\u0275did"](15,49152,null,0,a.IonSlides,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{pager:[0,"pager"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,R)),t["\u0275did"](17,278528,null,0,b.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](18,0,null,0,7,"ion-card-content",[],null,null,null,C.S,C.g)),t["\u0275did"](19,49152,null,0,a.IonCardContent,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](20,0,null,0,1,"p",[["class","descColegio"],["name","texto"]],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,[" "," "])),(l()(),t["\u0275eld"](22,0,null,0,1,"p",[["class","descColegio"],["name","fecha"]],null,null,null,null,null)),(l()(),t["\u0275ted"](23,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,0,1,null,_)),t["\u0275did"](25,278528,null,0,b.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,e){l(e,15,0,"true"),l(e,17,0,e.context.$implicit.imagenes),l(e,25,0,e.context.$implicit.alumnos)}),(function(l,e){var n=e.component;l(e,11,0,n.tituloColegio),l(e,13,0,n.descripcionColegio),l(e,21,0,e.context.$implicit.texto),l(e,23,0,e.context.$implicit.fecha)}))}function x(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{ionSlides:0}),(l()(),t["\u0275eld"](1,0,null,null,11,"ion-header",[["no-border",""]],null,null,null,C.cb,C.p)),t["\u0275did"](2,49152,null,0,a.IonHeader,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](3,0,null,0,9,"ion-toolbar",[["color","medium"],["no-border-bottom",""]],null,null,null,C.zb,C.M)),t["\u0275did"](4,49152,null,0,a.IonToolbar,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(l()(),t["\u0275eld"](5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,C.R,C.e)),t["\u0275did"](6,49152,null,0,a.IonButtons,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](7,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,e,n){var o=!0;return"click"===e&&(o=!1!==t["\u0275nov"](l,9).onClick(n)&&o),o}),C.P,C.c)),t["\u0275did"](8,49152,null,0,a.IonBackButton,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),t["\u0275did"](9,16384,null,0,a.IonBackButtonDelegate,[[2,a.IonRouterOutlet],a.NavController],null,null),(l()(),t["\u0275eld"](10,0,null,0,2,"ion-title",[["class","title"]],null,null,null,C.yb,C.L)),t["\u0275did"](11,49152,null,0,a.IonTitle,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](-1,0,[" PHOTO ALBUM "])),(l()(),t["\u0275eld"](13,0,null,null,3,"ion-content",[],null,null,null,C.W,C.j)),t["\u0275did"](14,49152,null,0,a.IonContent,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,D)),t["\u0275did"](16,278528,null,0,b.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,e){var n=e.component;l(e,4,0,"medium"),l(e,16,0,n.photos)}),null)}function w(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-photo",[],null,null,null,x,v)),t["\u0275did"](1,114688,null,0,g,[j.m,a.MenuController,a.NavController,a.LoadingController,a.AlertController,p,h.a,O.b],null,null)],(function(l,e){l(e,1,0)}),null)}var I=t["\u0275ccf"]("app-photo",g,w,{},{},[]),y=n("s7LF");n.d(e,"PhotoPageModuleNgFactory",(function(){return E}));var E=t["\u0275cmf"](m,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[f.a,I]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,b.NgLocalization,b.NgLocaleLocalization,[t.LOCALE_ID,[2,b["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,y["\u0275angular_packages_forms_forms_o"],y["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,a.AngularDelegate,a.AngularDelegate,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,a.ModalController,a.ModalController,[a.AngularDelegate,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,a.PopoverController,a.PopoverController,[a.AngularDelegate,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,b.CommonModule,b.CommonModule,[]),t["\u0275mpd"](1073742336,y["\u0275angular_packages_forms_forms_d"],y["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,y.FormsModule,y.FormsModule,[]),t["\u0275mpd"](1073742336,a.IonicModule,a.IonicModule,[]),t["\u0275mpd"](1073742336,j.o,j.o,[[2,j.t],[2,j.m]]),t["\u0275mpd"](1073742336,m,m,[]),t["\u0275mpd"](1024,j.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);