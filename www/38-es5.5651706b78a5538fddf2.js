(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{p39y:function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),o=t("mrSG"),a=t("ZZ/e"),r=t("XlPw"),i=t("t/Na"),u=t("67Y/"),c=t("9Z1F"),d=t("owP1"),s=t("T4a8"),p=function(){function n(n){this.http=n}return n.prototype.handleError=function(n){return n.error instanceof ErrorEvent?console.error("An error has been occurred:",n.error.message):console.error("Backend returned code "+n.status+", body was: "+n.error),Object(r.a)("Something bad happened; please try again later.")},n.prototype.extractData=function(n){return n||{}},n.prototype.handlephotoPadres=function(n){var e={headers:new i.h({"Content-Type":"application/json"})},t=d.a+s.j.photoPadres+"&tipo="+n.tipo+"&codigo="+n.codigo+" ";return console.log(t),this.http.get(t,e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handlephotoDetalle=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.photoDetalle+"&codigo="+n.codigo+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handlephotoMaestro=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.photoMaestro+"&tipo="+n.tipo+"&codigo="+n.codigo+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handlenuevoAlbumMaestro=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.nuevoAlbumMaestro+"&data="+n.data+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handlactualizaAlumnos=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.actualizaAlumnos+"&data="+n.data+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handleactualizaTextos=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.actualizaTextos+"&codigo="+n.codigo+"&texto="+n.texto+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handleeliminaAlbum=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.eliminaAlbum+"&codigo="+n.codigo+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handleeliminaPhoto=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.eliminaPhoto+"&album="+n.album+"&image="+n.image+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handleuploadFotos=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};return this.http.get(d.a+s.j.uploadFotos+"&imageo="+n.image+" ",e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.prototype.handlelistarAlumnos=function(n){var e={headers:new i.h({"Content-Type":"application/json"})};console.log(n);var t=d.a+s.j.listarAlumnos+"&tipo="+n.tipo+"&codigo="+n.codigo+"&alu_nombre="+n.alu_nombre+" ";return console.log(t),this.http.get(t,e).pipe(Object(u.a)(this.extractData),Object(c.a)(this.handleError))},n.ngInjectableDef=l["\u0275\u0275defineInjectable"]({factory:function(){return new n(l["\u0275\u0275inject"](i.c))},token:n,providedIn:"root"}),n}(),h=t("xoVG"),g=function(){function n(n,e,t,l,o,a,r,i){this.router=n,this.menu=e,this.navCtrl=t,this.loadingController=l,this.alertCtrl=o,this._photoProvider=a,this.network=r,this.storage=i,this.tituloColegio="COLEGIO",this.descripcionColegio="Colegio ASMS",this.handleGetStorageUser()}return n.prototype.ngOnInit=function(){},n.prototype.openFoto=function(n){var e={queryParams:{dataCard:JSON.stringify(n)}};this.router.navigate(["photo1"],e)},n.prototype.handleGetStorageUser=function(){return o.__awaiter(this,void 0,void 0,(function(){var n=this;return o.__generator(this,(function(e){return this.storage.get("user").then((function(e){n.tipo=e.tipo_usuario,n.codigo=e.tipo_codigo,n.typeNetwork=n.network.type,n.tipo&&n.codigo?n.handleGetPhotos():console.log("error faltan campos de el local storage")})),[2]}))}))},n.prototype.handleGetPhotos=function(){return o.__awaiter(this,void 0,void 0,(function(){var n=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.typeNetwork=this.network.type,"none"==this.typeNetwork?[3,2]:[4,this._photoProvider.handlephotoPadres({tipo:this.tipo,codigo:this.codigo}).subscribe((function(e){n.photos=e}),(function(e){console.log(e),n.status=!1,n.alertMsj("Oh, algo salio mal","Intenta otra vez.")}))];case 1:return e.sent(),[3,3];case 2:this.alertMsj("Error de conexi\xf3n","Verifica tu conexi\xf3n a internet."),e.label=3;case 3:return[2]}}))}))},n.prototype.alertMsj=function(n,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.alertCtrl.create({header:n,message:e,buttons:["Ok"]})];case 1:return t.sent().present(),[2]}}))}))},n}(),f=function(){return function(){}}(),m=t("pMnS"),C=t("oBZk"),b=t("Ip0R"),v=t("ZYCi"),j=t("iw74"),y=l["\u0275crt"]({encapsulation:0,styles:[[".textomenu[_ngcontent-%COMP%]{top:0;left:0;padding:0 90px 1px;width:100%;height:100%;text-align:center}.descColegio[_ngcontent-%COMP%], .titleColegio[_ngcontent-%COMP%]{color:#797d7f}.cardimage[_ngcontent-%COMP%]{width:100%;height:250px}.title[_ngcontent-%COMP%]{margin-left:18%}"]],data:{}});function O(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ion-slide",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.openFoto(n.parent.context.$implicit)&&l),l}),C.wb,C.J)),l["\u0275did"](1,49152,null,0,a.IonSlide,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](2,0,null,0,0,"img",[["class","cardimage"]],[[8,"src",4]],null,null,null,null))],null,(function(n,e){n(e,2,0,l["\u0275inlineInterpolate"](1,"",e.context.$implicit.foto,""))}))}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"p",[["class","descColegio"],["name","alumno"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,[" "," "]))],null,(function(n,e){n(e,2,0,e.context.$implicit.alumno)}))}function R(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,25,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,24,"ion-card",[],null,null,null,C.U,C.f)),l["\u0275did"](2,49152,null,0,a.IonCard,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](3,0,null,0,10,"ion-item",[],null,null,null,C.kb,C.v)),l["\u0275did"](4,49152,null,0,a.IonItem,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](5,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,C.O,C.b)),l["\u0275did"](6,49152,null,0,a.IonAvatar,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](7,0,null,0,0,"img",[["name","profile"],["src","../../../assets/asms/perfil.png"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,0,5,"ion-label",[],null,null,null,C.lb,C.y)),l["\u0275did"](9,49152,null,0,a.IonLabel,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](10,0,null,0,1,"h3",[["lass","titleColegio"],["name","coleName"]],null,null,null,null,null)),(n()(),l["\u0275ted"](11,null,[" "," "])),(n()(),l["\u0275eld"](12,0,null,0,1,"p",[["class","descColegio"],["name","nameColegio"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,[" "," "])),(n()(),l["\u0275eld"](14,0,null,0,3,"ion-slides",[["pager","true"],["paginationType","bullets"]],null,null,null,C.xb,C.K)),l["\u0275did"](15,49152,null,0,a.IonSlides,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{pager:[0,"pager"]},null),(n()(),l["\u0275and"](16777216,null,0,1,null,O)),l["\u0275did"](17,278528,null,0,b.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](18,0,null,0,7,"ion-card-content",[],null,null,null,C.S,C.g)),l["\u0275did"](19,49152,null,0,a.IonCardContent,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](20,0,null,0,1,"p",[["class","descColegio"],["name","texto"]],null,null,null,null,null)),(n()(),l["\u0275ted"](21,null,[" "," "])),(n()(),l["\u0275eld"](22,0,null,0,1,"p",[["class","descColegio"],["name","fecha"]],null,null,null,null,null)),(n()(),l["\u0275ted"](23,null,[" "," "])),(n()(),l["\u0275and"](16777216,null,0,1,null,_)),l["\u0275did"](25,278528,null,0,b.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,15,0,"true"),n(e,17,0,e.context.$implicit.imagenes),n(e,25,0,e.context.$implicit.alumnos)}),(function(n,e){var t=e.component;n(e,11,0,t.tituloColegio),n(e,13,0,t.descripcionColegio),n(e,21,0,e.context.$implicit.texto),n(e,23,0,e.context.$implicit.fecha)}))}function w(n){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{ionSlides:0}),(n()(),l["\u0275eld"](1,0,null,null,11,"ion-header",[["no-border",""]],null,null,null,C.cb,C.p)),l["\u0275did"](2,49152,null,0,a.IonHeader,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](3,0,null,0,9,"ion-toolbar",[["color","medium"],["no-border-bottom",""]],null,null,null,C.zb,C.M)),l["\u0275did"](4,49152,null,0,a.IonToolbar,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{color:[0,"color"]},null),(n()(),l["\u0275eld"](5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,C.R,C.e)),l["\u0275did"](6,49152,null,0,a.IonButtons,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](7,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,e,t){var o=!0;return"click"===e&&(o=!1!==l["\u0275nov"](n,9).onClick(t)&&o),o}),C.P,C.c)),l["\u0275did"](8,49152,null,0,a.IonBackButton,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),l["\u0275did"](9,16384,null,0,a.IonBackButtonDelegate,[[2,a.IonRouterOutlet],a.NavController],null,null),(n()(),l["\u0275eld"](10,0,null,0,2,"ion-title",[["class","title"]],null,null,null,C.yb,C.L)),l["\u0275did"](11,49152,null,0,a.IonTitle,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275ted"](-1,0,[" PHOTO ALBUM "])),(n()(),l["\u0275eld"](13,0,null,null,3,"ion-content",[],null,null,null,C.W,C.j)),l["\u0275did"](14,49152,null,0,a.IonContent,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275and"](16777216,null,0,1,null,R)),l["\u0275did"](16,278528,null,0,b.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,4,0,"medium"),n(e,16,0,t.photos)}),null)}function D(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-photo",[],null,null,null,w,y)),l["\u0275did"](1,114688,null,0,g,[v.m,a.MenuController,a.NavController,a.LoadingController,a.AlertController,p,h.a,j.b],null,null)],(function(n,e){n(e,1,0)}),null)}var x=l["\u0275ccf"]("app-photo",g,D,{},{},[]),I=t("gIcY");t.d(e,"PhotoPageModuleNgFactory",(function(){return E}));var E=l["\u0275cmf"](f,[],(function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[m.a,x]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,b.NgLocalization,b.NgLocaleLocalization,[l.LOCALE_ID,[2,b["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,I["\u0275angular_packages_forms_forms_o"],I["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](4608,a.AngularDelegate,a.AngularDelegate,[l.NgZone,l.ApplicationRef]),l["\u0275mpd"](4608,a.ModalController,a.ModalController,[a.AngularDelegate,l.ComponentFactoryResolver,l.Injector]),l["\u0275mpd"](4608,a.PopoverController,a.PopoverController,[a.AngularDelegate,l.ComponentFactoryResolver,l.Injector]),l["\u0275mpd"](1073742336,b.CommonModule,b.CommonModule,[]),l["\u0275mpd"](1073742336,I["\u0275angular_packages_forms_forms_d"],I["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,I.FormsModule,I.FormsModule,[]),l["\u0275mpd"](1073742336,a.IonicModule,a.IonicModule,[]),l["\u0275mpd"](1073742336,v.o,v.o,[[2,v.t],[2,v.m]]),l["\u0275mpd"](1073742336,f,f,[]),l["\u0275mpd"](1024,v.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);